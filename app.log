2025-07-20 02:22:05,892 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:22:14,036 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86DFD0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86DFD0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86DFD0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86DFD0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:22:24,169 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F170>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86F170>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F170>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F170>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:22:24,185 - ERROR - __main__ - app.<module>:147 - Error calling /chat API: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /chat (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F8F0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86F8F0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /chat (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F8F0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 98, in <module>
    response = requests.post(f"{API_URL}/chat", json=payload, stream=True, timeout=120)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /chat (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F8F0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:23:18,379 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:23:18,399 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA776C00>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA776C00>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA776C00>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA776C00>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:23:26,997 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86CFE0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86CFE0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86CFE0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86CFE0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:24:49,700 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:24:50,610 - INFO - src.vector_store - vector_store.__init__:36 - Initializing VectorStoreManager...
2025-07-20 02:25:00,275 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F6E0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86F6E0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F6E0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F6E0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:25:05,906 - ERROR - __main__ - app.handle_file_uploads:61 - API connection error during ingestion: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F1A0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
OSError: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 494, in request
    self.endheaders()
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1331, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1091, in _send_output
    self.send(msg)
  File "D:\Coding_datas_anaconda\Lib\http\client.py", line 1035, in send
    self.connect()
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 325, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000208AA86F1A0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F1A0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\app.py", line 51, in handle_file_uploads
    response = requests.post(f"{API_URL}/ingest", files=files_to_send, timeout=300)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='0.0.0.0', port=8000): Max retries exceeded with url: /ingest (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000208AA86F1A0>: Failed to establish a new connection: [WinError 10049] The requested address is not valid in its context'))
2025-07-20 02:25:37,220 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:25:37,222 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:25:55,499 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:25:55,500 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:26:06,191 - ERROR - src.vector_store - vector_store.__init__:54 - Failed to initialize VectorStoreManager: No module named 'astrapy.db'
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\vector_store.py", line 44, in __init__
    self.vector_store = AstraDB(
                        ^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_core\_api\deprecation.py", line 222, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_community\vectorstores\astradb.py", line 200, in __init__
    self.astra_env = _AstraDBCollectionEnvironment(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_community\utilities\astradb.py", line 112, in __init__
    from astrapy.db import AstraDBCollection, AsyncAstraDBCollection
ModuleNotFoundError: No module named 'astrapy.db'
2025-07-20 02:29:26,406 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:29:27,235 - INFO - src.vector_store - vector_store.__init__:36 - Initializing VectorStoreManager...
2025-07-20 02:29:29,969 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:29:29,969 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:29:32,582 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:29:32,582 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:29:39,176 - ERROR - src.vector_store - vector_store.__init__:54 - Failed to initialize VectorStoreManager: No module named 'astrapy.db'
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\vector_store.py", line 44, in __init__
    self.vector_store = AstraDB(
                        ^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_core\_api\deprecation.py", line 222, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_community\vectorstores\astradb.py", line 200, in __init__
    self.astra_env = _AstraDBCollectionEnvironment(
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\aryan\AppData\Roaming\Python\Python312\site-packages\langchain_community\utilities\astradb.py", line 112, in __init__
    from astrapy.db import AstraDBCollection, AsyncAstraDBCollection
ModuleNotFoundError: No module named 'astrapy.db'
2025-07-20 02:31:54,334 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:31:55,569 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:31:58,406 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:31:58,406 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:32:01,035 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:32:01,036 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:32:07,610 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:32:07,719 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:32:08,831 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:32:26,272 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:32:26,586 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:32:26,633 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 02:32:26,633 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 02:32:26,641 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:32:26,890 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:32:28,194 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:32:31,175 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:32:31,175 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:32:33,888 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:32:33,888 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:32:39,859 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:32:39,940 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:32:41,068 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:32:44,337 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:32:46,657 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:32:46,731 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:32:46,757 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:32:47,990 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:32:47] "GET / HTTP/1.1" 200 -
2025-07-20 02:32:52,539 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:32:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-20 02:33:01,115 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 02:33:01,118 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 02:33:01,119 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 02:33:02,911 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 02:33:02,918 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 02:33:02,923 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 02:33:02,933 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 02:33:02,944 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 02:33:02,957 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:33:02] "POST /ingest HTTP/1.1" 200 -
2025-07-20 02:33:29,115 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i suicide intentionally then claim will get my family or not'
2025-07-20 02:33:29,125 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:33:29] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:33:29,422 - INFO - src.llm_handler - llm_handler.__init__:46 - Initializing LLMHandler...
2025-07-20 02:33:32,745 - INFO - src.llm_handler - llm_handler.__init__:94 - LLMHandler initialized successfully with Groq model and structured output.
2025-07-20 02:33:32,745 - INFO - src.conversation - conversation.get_full_response:56 - Starting full response generation for query: 'can i suicide intentionally then claim will get my family or not'
2025-07-20 02:33:32,746 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:61 - Retrieving top 5 documents for query: 'can i suicide intentionally then claim will get my family or not'
2025-07-20 02:33:33,026 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:33:34,277 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:33:34,278 - WARNING - langchain_core.vectorstores.base - base.similarity_search_with_relevance_scores:576 - No relevant docs were retrieved using the relevance score threshold 0.7
2025-07-20 02:33:34,280 - WARNING - src.hybrid_search - hybrid_search.retrieve_relevant_documents:79 - No documents found above the score threshold for query: 'can i suicide intentionally then claim will get my family or not'
2025-07-20 02:33:34,281 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:33:34,475 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:33:34,825 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:33:34,826 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:83 - Fallback search returned 0 documents.
2025-07-20 02:33:34,827 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:87 - Retrieved 0 documents. Context length: 43 chars.
2025-07-20 02:33:34,828 - INFO - src.llm_handler - llm_handler.get_streaming_response:115 - Invoking LLM chain for a streaming response.
2025-07-20 02:33:34,830 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:33:34] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:35:31,759 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\src\\llm_handler.py', reloading
2025-07-20 02:35:31,760 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\src\\llm_handler.py', reloading
2025-07-20 02:35:33,343 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:35:33,581 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:35:34,841 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:35:37,731 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:35:37,731 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:35:42,966 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:35:42,967 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:35:52,602 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:35:52,740 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:36:00,601 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:36:03,938 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:36:06,344 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:36:06,425 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:36:06,452 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:36:09,714 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i suicide intentionally then  my family will get insurance or not'
2025-07-20 02:36:09,720 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:36:09] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:36:10,056 - INFO - src.llm_handler - llm_handler.__init__:46 - Initializing LLMHandler...
2025-07-20 02:36:12,859 - INFO - src.llm_handler - llm_handler.__init__:94 - LLMHandler initialized successfully with Groq model and structured output.
2025-07-20 02:36:12,862 - INFO - src.conversation - conversation.get_full_response:56 - Starting full response generation for query: 'can i suicide intentionally then  my family will get insurance or not'
2025-07-20 02:36:12,865 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:61 - Retrieving top 5 documents for query: 'can i suicide intentionally then  my family will get insurance or not'
2025-07-20 02:36:13,171 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:36:14,281 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:36:14,282 - WARNING - langchain_core.vectorstores.base - base.similarity_search_with_relevance_scores:576 - No relevant docs were retrieved using the relevance score threshold 0.7
2025-07-20 02:36:14,283 - WARNING - src.hybrid_search - hybrid_search.retrieve_relevant_documents:79 - No documents found above the score threshold for query: 'can i suicide intentionally then  my family will get insurance or not'
2025-07-20 02:36:14,284 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:36:14,428 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:36:14,804 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:36:14,807 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:83 - Fallback search returned 0 documents.
2025-07-20 02:36:14,808 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:87 - Retrieved 0 documents. Context length: 43 chars.
2025-07-20 02:36:14,811 - INFO - src.conversation - conversation.format_chat_history:35 - Formatted chat history of 1 messages.
2025-07-20 02:36:14,812 - INFO - src.llm_handler - llm_handler.get_streaming_response:115 - Invoking LLM chain for a streaming response.
2025-07-20 02:36:14,813 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:36:14] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:36:29,459 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\src\\llm_handler.py', reloading
2025-07-20 02:36:29,460 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\src\\llm_handler.py', reloading
2025-07-20 02:36:29,460 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\src\\llm_handler.py', reloading
2025-07-20 02:36:30,154 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:36:30,384 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:36:31,777 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:36:34,833 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:36:34,834 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:36:38,007 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:36:38,007 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:36:44,099 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:36:44,156 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:36:45,268 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:36:48,679 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:36:48,991 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:36:49,001 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:36:49,004 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:38:45,257 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\__init__.py', reloading
2025-07-20 02:38:45,258 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\app.py', reloading
2025-07-20 02:38:45,270 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\sansio\\app.py', reloading
2025-07-20 02:38:45,276 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\sansio\\scaffold.py', reloading
2025-07-20 02:38:45,280 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\globals.py', reloading
2025-07-20 02:38:45,282 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\wrappers.py', reloading
2025-07-20 02:38:45,282 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\__init__.py', reloading
2025-07-20 02:38:45,283 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\request.py', reloading
2025-07-20 02:38:45,285 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\sansio\\request.py', reloading
2025-07-20 02:38:45,288 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\json\\__init__.py', reloading
2025-07-20 02:38:45,289 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\wrappers\\response.py', reloading
2025-07-20 02:38:45,293 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\werkzeug\\sansio\\response.py', reloading
2025-07-20 02:38:45,296 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\Coding_datas_anaconda\\Lib\\site-packages\\flask\\templating.py', reloading
2025-07-20 02:38:45,298 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\jinja2\\__init__.py', reloading
2025-07-20 02:38:45,299 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'C:\\Users\\aryan\\AppData\\Roaming\\Python\\Python312\\site-packages\\jinja2\\environment.py', reloading
2025-07-20 02:38:46,014 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:38:46,251 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:38:47,815 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:38:50,939 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:38:50,940 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:38:57,658 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:38:57,660 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:39:05,031 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:39:05,084 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:39:06,143 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:39:09,288 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:39:09,600 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:39:09,611 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:39:09,613 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:39:09,740 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:39:09] "GET / HTTP/1.1" 200 -
2025-07-20 02:39:26,947 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:39:28,214 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:39:31,115 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:39:31,115 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:39:33,771 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:39:33,771 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:39:39,241 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:39:39,282 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:39:40,372 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:39:43,556 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:39:43,865 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:39:43,880 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 02:39:43,880 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 02:39:43,887 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:39:44,119 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:39:45,387 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:39:48,390 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:39:48,391 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:39:51,117 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:39:51,117 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:39:57,824 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:39:57,909 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:39:58,978 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:40:02,081 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:40:02,389 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:40:02,400 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:40:02,402 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:40:14,314 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\config\\settings.py', reloading
2025-07-20 02:40:14,314 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\config\\settings.py', reloading
2025-07-20 02:40:14,314 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\config\\settings.py', reloading
2025-07-20 02:40:15,487 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:40:15,738 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:40:16,987 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:40:20,008 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:40:20,008 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:40:22,851 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:40:22,851 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-07-20 02:40:29,105 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:40:29,128 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:40:30,188 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:40:33,332 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:40:33,642 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:40:33,652 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:40:33,655 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:40:43,732 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\config\\settings.py', reloading
2025-07-20 02:40:43,733 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\config\\settings.py', reloading
2025-07-20 02:40:44,451 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:42:14,831 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:42:16,049 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:42:18,958 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:42:18,958 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:42:21,564 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:42:21,565 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: BAAI/bge-small-en-v1.5
2025-07-20 02:43:07,449 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:43:07,545 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:43:08,553 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:43:11,721 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:43:12,010 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:43:12,025 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 02:43:12,025 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 02:43:12,032 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:43:12,257 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:43:13,462 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:43:16,367 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:43:16,368 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:43:22,097 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:43:22,099 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: BAAI/bge-small-en-v1.5
2025-07-20 02:43:31,569 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:43:31,703 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:43:37,628 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:43:40,695 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:43:40,995 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:43:41,004 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:43:41,007 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:43:41,131 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:43:41] "GET / HTTP/1.1" 200 -
2025-07-20 02:44:21,899 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 02:44:21,902 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 02:44:21,903 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 02:44:23,625 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 02:44:23,629 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 02:44:23,631 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 02:44:23,637 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 02:44:23,639 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 02:44:23,649 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:44:23] "POST /ingest HTTP/1.1" 200 -
2025-07-20 02:44:52,132 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'my family will get claim if i suicide intentionally'
2025-07-20 02:44:52,151 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:44:52] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:44:52,393 - INFO - src.llm_handler - llm_handler.__init__:46 - Initializing LLMHandler...
2025-07-20 02:44:55,220 - INFO - src.llm_handler - llm_handler.__init__:95 - LLMHandler initialized successfully with Groq model and structured output.
2025-07-20 02:44:55,221 - INFO - src.conversation - conversation.get_full_response:56 - Starting full response generation for query: 'my family will get claim if i suicide intentionally'
2025-07-20 02:44:55,223 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:61 - Retrieving top 5 documents for query: 'my family will get claim if i suicide intentionally'
2025-07-20 02:44:55,551 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:44:56,636 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:44:56,637 - WARNING - langchain_core.vectorstores.base - base.similarity_search_with_relevance_scores:576 - No relevant docs were retrieved using the relevance score threshold 0.7
2025-07-20 02:44:56,639 - WARNING - src.hybrid_search - hybrid_search.retrieve_relevant_documents:79 - No documents found above the score threshold for query: 'my family will get claim if i suicide intentionally'
2025-07-20 02:44:56,640 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:44:56,970 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:44:57,305 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:44:57,306 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:83 - Fallback search returned 0 documents.
2025-07-20 02:44:57,307 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:87 - Retrieved 0 documents. Context length: 43 chars.
2025-07-20 02:44:57,308 - INFO - src.llm_handler - llm_handler.get_streaming_response:116 - Invoking LLM chain for a streaming response.
2025-07-20 02:44:57,309 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:44:57] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:47:17,899 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\app.py', reloading
2025-07-20 02:47:17,900 - INFO - werkzeug - _internal._log:97 -  * Detected change in 'D:\\B-Tech CSE IIIT\\B-Tech CSE IIIT\\MACHINE_LEARNING_PROJECT\\Hackathon -PROJECT------------\\Bajaj_Insurance Claim Advisor\\app.py', reloading
2025-07-20 02:47:18,708 - INFO - werkzeug - _internal._log:97 -  * Restarting with watchdog (windowsapi)
2025-07-20 02:47:18,976 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:47:20,230 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:47:23,226 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:47:23,227 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:47:25,939 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:47:25,939 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: BAAI/bge-small-en-v1.5
2025-07-20 02:47:33,796 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:47:34,029 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:47:41,456 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:47:44,993 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:47:47,196 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:47:47,251 - WARNING - werkzeug - _internal._log:97 -  * Debugger is active!
2025-07-20 02:47:47,277 - INFO - werkzeug - _internal._log:97 -  * Debugger PIN: 832-353-587
2025-07-20 02:51:53,019 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:51:54,325 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:51:57,073 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:51:57,073 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:51:59,763 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:51:59,763 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:52:06,433 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:52:06,505 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:52:07,653 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:52:10,899 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:52:11,237 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:52:11,253 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 02:52:11,253 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 02:52:35,868 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:52:35] "GET / HTTP/1.1" 200 -
2025-07-20 02:52:41,596 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 02:52:41,597 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 02:52:41,597 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 02:52:43,296 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 02:52:43,300 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 02:52:43,301 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 02:52:43,305 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 02:52:43,306 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 02:52:43,316 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:52:43] "POST /ingest HTTP/1.1" 200 -
2025-07-20 02:53:20,460 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:53:20,460 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 02:53:20,471 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:53:20] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:53:20,652 - INFO - src.llm_handler - llm_handler.__init__:46 - Initializing LLMHandler...
2025-07-20 02:53:23,267 - INFO - src.llm_handler - llm_handler.__init__:95 - LLMHandler initialized successfully with Groq model and structured output.
2025-07-20 02:53:23,269 - INFO - src.conversation - conversation.get_full_response:56 - Starting full response generation for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:53:23,270 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:61 - Retrieving top 5 documents for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:53:23,447 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:53:24,609 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:53:24,611 - WARNING - langchain_core.vectorstores.base - base.similarity_search_with_relevance_scores:576 - No relevant docs were retrieved using the relevance score threshold 0.7
2025-07-20 02:53:24,615 - WARNING - src.hybrid_search - hybrid_search.retrieve_relevant_documents:79 - No documents found above the score threshold for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:53:24,616 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:53:24,700 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:53:25,052 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:53:25,054 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:83 - Fallback search returned 0 documents.
2025-07-20 02:53:25,055 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:87 - Retrieved 0 documents. Context length: 43 chars.
2025-07-20 02:53:25,056 - INFO - src.llm_handler - llm_handler.get_streaming_response:116 - Invoking LLM chain for a streaming response.
2025-07-20 02:53:25,057 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 02:53:25,058 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:53:25] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:54:15,968 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:54:15] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-07-20 02:56:18,190 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:56:18] "GET / HTTP/1.1" 200 -
2025-07-20 02:56:24,765 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 02:56:24,766 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 02:56:24,766 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 02:56:25,044 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 02:56:25,045 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 02:56:25,045 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 02:56:25,045 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 02:56:25,046 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 02:56:25,047 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:56:25] "POST /ingest HTTP/1.1" 200 -
2025-07-20 02:56:26,552 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:56:26,552 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 02:56:26,552 - INFO - src.conversation - conversation.get_full_response:56 - Starting full response generation for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:56:26,553 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:61 - Retrieving top 5 documents for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:56:26,571 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:56:26] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:56:26,601 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:56:27,947 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:56:27,947 - WARNING - langchain_core.vectorstores.base - base.similarity_search_with_relevance_scores:576 - No relevant docs were retrieved using the relevance score threshold 0.7
2025-07-20 02:56:27,947 - WARNING - src.hybrid_search - hybrid_search.retrieve_relevant_documents:79 - No documents found above the score threshold for query: 'can i intentionally suicide then my family will get claim or not'
2025-07-20 02:56:27,947 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:56:28,010 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:56:28,390 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:56:28,391 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:83 - Fallback search returned 0 documents.
2025-07-20 02:56:28,392 - INFO - src.hybrid_search - hybrid_search.retrieve_relevant_documents:87 - Retrieved 0 documents. Context length: 43 chars.
2025-07-20 02:56:28,392 - INFO - src.llm_handler - llm_handler.get_streaming_response:116 - Invoking LLM chain for a streaming response.
2025-07-20 02:56:28,393 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 02:56:28,393 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:56:28] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:58:28,201 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 02:58:29,485 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 02:58:32,350 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 02:58:32,350 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 02:58:34,926 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 02:58:34,927 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 02:58:42,120 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 02:58:42,229 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 02:58:43,254 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 02:58:46,481 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 02:58:46,774 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 02:58:46,810 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 02:58:46,810 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 02:58:50,673 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:58:50] "GET / HTTP/1.1" 200 -
2025-07-20 02:58:57,051 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 02:58:57,051 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 02:58:57,052 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 02:58:58,467 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 02:58:58,470 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 02:58:58,471 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 02:58:58,475 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 02:58:58,478 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 02:58:58,490 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:58:58] "POST /ingest HTTP/1.1" 200 -
2025-07-20 02:59:11,470 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide claim'
2025-07-20 02:59:11,473 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 02:59:11,479 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:59:11] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 02:59:14,235 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 02:59:14,482 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 02:59:15,903 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 02:59:17,234 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 02:59:17,234 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 02:59:17] "POST /chat HTTP/1.1" 200 -
2025-07-20 02:59:17,302 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:00:33,781 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Suicide Exclusion explain'
2025-07-20 03:00:33,783 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:00:33] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:00:33,784 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:00:33,799 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:00:33,909 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:00:35,072 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:00:36,040 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:00:36,043 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:00:36] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:00:36,123 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:01:45,740 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:01:45,743 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:01:45,744 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\Final_Policy_Docs_LICs_Jeevan_Labh_V03_website.pdf using PyPDFLoader
2025-07-20 03:01:53,149 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 18 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\Final_Policy_Docs_LICs_Jeevan_Labh_V03_website.pdf.
2025-07-20 03:01:53,152 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 18 document parts.
2025-07-20 03:01:53,152 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 18 document parts...
2025-07-20 03:01:53,164 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 18, Total chunks: 99
2025-07-20 03:01:53,166 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:01:53,173 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:01:53] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:02:29,870 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Option to take Death Benefit in instalments'
2025-07-20 03:02:29,871 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:02:29,871 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:02:29,871 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:02:29] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:02:30,004 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:02:31,580 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:02:32,484 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:02:32,485 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:02:32] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:02:32,630 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:04:23,324 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i am aryan patel'
2025-07-20 03:04:23,324 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:04:23,325 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:04:23,326 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:04:23] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:04:23,385 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:04:24,664 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:04:25,619 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:04:25,619 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:04:25] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:04:25,747 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:04:38,246 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'what's my name'
2025-07-20 03:04:38,246 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:04:38,246 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:04:38,248 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:04:38] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:04:38,262 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:04:39,314 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:04:40,076 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:04:40,077 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:04:40] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:04:40,217 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:05:00,213 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'my name?'
2025-07-20 03:05:00,214 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:05:00,214 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:05:00,215 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:05:00] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:05:00,228 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:05:01,329 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:05:02,058 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:05:02,058 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:05:02] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:05:02,178 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:07:24,139 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:07:24,140 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:07:24,140 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\3khO4mBz0M.pdf using PyPDFLoader
2025-07-20 03:07:24,190 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 3 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\3khO4mBz0M.pdf.
2025-07-20 03:07:24,190 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 3 document parts.
2025-07-20 03:07:24,190 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 3 document parts...
2025-07-20 03:07:24,191 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 3, Total chunks: 3
2025-07-20 03:07:24,191 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:07:24,192 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:07:24] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:07:45,297 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Completed Claim Form'
2025-07-20 03:07:45,297 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:07:45,298 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:07:45] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:07:45,298 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:07:45,351 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:07:46,537 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:07:47,395 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:07:47,396 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:07:47] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:07:47,494 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:08:12,594 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Suicide'
2025-07-20 03:08:12,594 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:08:12,595 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:08:12,595 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:08:12] "[31m[1mGET /chat HTTP/1.1[0m" 405 -
2025-07-20 03:08:12,612 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:08:13,542 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:08:14,274 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:08:14,274 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:08:14] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:08:14,381 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:12:44,723 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:12:44] "GET / HTTP/1.1" 200 -
2025-07-20 03:12:58,286 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:12:58,286 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:12:58,287 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 03:12:59,505 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 03:12:59,507 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 03:12:59,508 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 03:12:59,514 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 03:12:59,518 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:12:59,525 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:12:59] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:13:13,033 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'tell me about suicide claims'
2025-07-20 03:13:13,034 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:13:13,037 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:13:13,163 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:13:14,357 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:13:15,341 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:13:15,342 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:13:15] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:13:15,472 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:15:35,756 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:15:35] "GET / HTTP/1.1" 200 -
2025-07-20 03:15:43,893 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:15:43,894 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:15:43,894 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 03:15:44,040 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 03:15:44,040 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 03:15:44,040 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 03:15:44,041 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 03:15:44,041 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:15:44,043 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:15:44] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:15:56,799 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide claims'
2025-07-20 03:15:56,801 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:15:56,801 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:15:56,939 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:15:58,237 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:15:59,295 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:15:59,296 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:15:59] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:15:59,396 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:16:07,535 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'I understand this is a sensitive topic. Can you please provide more details about the circumstances surrounding the claim?'
2025-07-20 03:16:07,535 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:16:07,536 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:16:07,607 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:08,641 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:09,388 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:16:09,389 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:16:09] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:16:09,504 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:16:16,746 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Could you please describe the nature of the claim?'
2025-07-20 03:16:16,746 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:16:16,747 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:16:16,840 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:17,795 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:18,595 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:16:18,595 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:16:18] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:16:18,671 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:16:36,029 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:16:36] "GET / HTTP/1.1" 200 -
2025-07-20 03:16:41,966 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'hello'
2025-07-20 03:16:41,966 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:16:41,967 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:16:42,016 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:43,263 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:16:44,250 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:16:44,250 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:16:44] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:16:44,253 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:18:22,473 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:18:22] "GET / HTTP/1.1" 200 -
2025-07-20 03:18:27,247 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:18:27,247 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:18:27,248 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 03:18:28,475 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 03:18:28,476 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 03:18:28,477 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 03:18:28,481 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 03:18:28,483 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:18:28,492 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:18:28] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:18:31,188 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide'
2025-07-20 03:18:31,189 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:18:31,191 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:18:31,275 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:18:32,415 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:18:33,300 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:18:33,301 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:18:33] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:18:33,440 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:18:43,507 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:18:43] "GET / HTTP/1.1" 200 -
2025-07-20 03:22:56,948 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:22:56] "GET / HTTP/1.1" 200 -
2025-07-20 03:23:04,282 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:23:04,283 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:23:04,284 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 03:23:05,726 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 03:23:05,730 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 03:23:05,730 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 03:23:05,734 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 03:23:05,735 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:23:05,752 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:23:05] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:26:01,822 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:26:01] "GET / HTTP/1.1" 200 -
2025-07-20 03:26:46,496 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:26:46,497 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:26:46,498 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf using PyPDFLoader
2025-07-20 03:26:47,716 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 7 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CIS__Jeevan_Labh_736.pdf.
2025-07-20 03:26:47,717 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 7 document parts.
2025-07-20 03:26:47,717 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 7 document parts...
2025-07-20 03:26:47,721 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 7, Total chunks: 15
2025-07-20 03:26:47,723 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:26:47,730 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:26:47] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:26:52,343 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'sucide claims'
2025-07-20 03:26:52,344 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:26:52,347 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:26:52,420 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:26:53,757 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:26:54,694 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:26:54,695 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:26:54] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:26:54,840 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:27:05,789 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'I understand this is a sensitive topic. Can you please provide more details about the claim?'
2025-07-20 03:27:05,792 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:27:05,811 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:27:05,958 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:06,977 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:07,926 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:27:07,929 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:27:07] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:27:07,935 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:27:12,680 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What type of suicide claim is this?'
2025-07-20 03:27:12,682 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:27:12,684 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:27:12,787 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:13,833 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:14,606 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:27:14,607 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:27:14] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:27:14,731 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:27:34,265 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What type of insurance policy is involved?'
2025-07-20 03:27:34,268 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:27:34,270 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:27:34,501 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:35,872 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:36,662 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:27:36,665 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:27:36] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:27:36,787 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:27:40,863 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What type of insurance policy is involved?'
2025-07-20 03:27:40,863 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:27:40,869 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:27:41,056 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:42,119 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:42,916 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:27:42,918 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:27:42] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:27:43,027 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:27:49,960 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i am aryan patel'
2025-07-20 03:27:49,961 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:27:49,961 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:27:50,029 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:51,325 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:27:52,198 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:27:52,199 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:27:52] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:27:52,249 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:29:54,045 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What documents are needed to file a claim?'
2025-07-20 03:29:54,049 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:29:54,058 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:29:54,245 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:29:55,368 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:29:56,254 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:29:56,255 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:29:56] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:29:56,351 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:36:44,056 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:36:44] "GET / HTTP/1.1" 200 -
2025-07-20 03:36:48,514 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide'
2025-07-20 03:36:48,515 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:36:48,517 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:36:48,589 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:36:49,923 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:36:50,935 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:36:50,937 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:36:50] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:36:51,087 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:37:10,556 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:37:10,557 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:37:10,558 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\3khO4mBz0M.pdf using PyPDFLoader
2025-07-20 03:37:11,535 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 3 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\3khO4mBz0M.pdf.
2025-07-20 03:37:11,537 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 3 document parts.
2025-07-20 03:37:11,538 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 3 document parts...
2025-07-20 03:37:11,539 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 3, Total chunks: 3
2025-07-20 03:37:11,540 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:37:11,545 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:37:11] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:37:18,961 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'claims details'
2025-07-20 03:37:18,962 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:37:18,964 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:37:19,041 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:37:20,274 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:37:21,159 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:37:21,162 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:37:21] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:37:21,168 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:37:46,361 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'for suicide'
2025-07-20 03:37:46,362 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:37:46,363 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:37:46,459 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:37:47,575 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:37:48,356 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:37:48,357 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:37:48] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:37:48,481 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:38:06,244 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'for suicide claims'
2025-07-20 03:38:06,244 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:38:06,246 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:38:06,343 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:07,594 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:08,485 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:38:08,486 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:38:08] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:38:08,607 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:38:29,044 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'jeevan beema'
2025-07-20 03:38:29,045 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:38:29,046 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:38:29,113 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:30,127 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:30,927 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:38:30,929 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:38:30] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:38:31,059 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:38:51,815 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i don't know this'
2025-07-20 03:38:51,815 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:38:51,816 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:38:51,888 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:52,860 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:38:53,631 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:38:53,632 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:38:53] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:38:53,765 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:39:00,060 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i forgot'
2025-07-20 03:39:00,061 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:39:00,063 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:39:00,140 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:39:01,174 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:39:02,007 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:39:02,008 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:39:02] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:39:02,051 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:45:32,303 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:45:32,304 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:45:32,305 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 03:45:40,908 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 03:45:40,909 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 03:45:40,910 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 03:45:40,927 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 03:45:40,927 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:45:40,932 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:45:40] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:46:11,794 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:46:11] "GET / HTTP/1.1" 200 -
2025-07-20 03:46:15,353 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 03:46:15,354 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 03:46:15,355 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 03:46:24,278 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 03:46:24,279 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 03:46:24,280 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 03:46:24,306 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 03:46:24,307 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 03:46:24,313 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:46:24] "POST /ingest HTTP/1.1" 200 -
2025-07-20 03:46:25,883 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Kidney failure requiring regular dialysis'
2025-07-20 03:46:25,885 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:46:25,887 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:46:25,964 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:46:27,283 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:46:28,371 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:46:28,372 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:46:28] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:46:28,462 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:47:27,058 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Stones in Urinary system'
2025-07-20 03:47:27,059 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:47:27,061 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:47:27,135 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:47:28,363 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:47:29,267 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:47:29,270 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:47:29] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:47:29,401 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:48:17,673 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Surgeries and procedures related to Stones in Urinary system'
2025-07-20 03:48:17,673 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:48:17,675 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:48:17,751 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:48:19,459 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:48:20,396 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:48:20,397 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:48:20] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:48:20,444 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:49:04,468 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Chronic Renal Failure o'
2025-07-20 03:49:04,469 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:49:04,471 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:49:04,557 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:49:06,004 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:49:06,978 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:49:06,979 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:49:06] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:49:07,129 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:49:38,283 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Dialysis but not limited to haemodialysis & peritoneal dialysis'
2025-07-20 03:49:38,284 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:49:38,285 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:49:38,359 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:49:39,472 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:49:40,379 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:49:40,379 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:49:40] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:49:40,442 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:50:35,516 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'by these details can i get claims or not'
2025-07-20 03:50:35,516 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:50:35,517 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:50:35,528 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:50:36,741 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:50:37,798 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:50:37,798 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:50:37] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:50:37,943 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:51:03,437 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'in simple answer i get claims or not yes/no'
2025-07-20 03:51:03,437 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:51:03,439 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:51:03,454 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:51:04,560 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:51:05,320 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:51:05,321 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:51:05] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:51:05,477 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:51:08,391 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What is the date your chronic renal failure was diagnosed?'
2025-07-20 03:51:08,392 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:51:08,394 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:51:08,425 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:51:08,836 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:51:09,411 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:51:09,412 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:51:09] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:51:09,523 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:53:45,825 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'which disease i have'
2025-07-20 03:53:45,826 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:53:45,827 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:53:45,894 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:53:47,097 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:53:48,232 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:53:48,235 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:53:48] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:53:48,519 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:54:17,326 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i will get claims or not'
2025-07-20 03:54:17,327 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:54:17,329 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:54:17,394 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:18,498 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:19,400 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:54:19,403 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:54:19] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:54:19,431 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:54:24,294 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What is the date your chronic renal failure was diagnosed?'
2025-07-20 03:54:24,296 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:54:24,301 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:54:24,426 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:25,477 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:26,280 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:54:26,286 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:54:26] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:54:26,355 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:54:38,181 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: '18 july 2025'
2025-07-20 03:54:38,182 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:54:38,184 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:54:38,297 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:39,257 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:54:40,040 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:54:40,044 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:54:40] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:54:40,155 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:55:04,839 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i get treamtmenrt from rims medical college'
2025-07-20 03:55:04,840 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:55:04,842 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:55:04,926 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:06,155 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:07,290 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:55:07,294 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:55:07] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:55:07,321 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:55:15,215 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i am aryan patel'
2025-07-20 03:55:15,215 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:55:15,217 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:55:15,297 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:16,396 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:17,204 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:55:17,206 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:55:17] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:55:17,331 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 03:55:27,622 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'what's my name'
2025-07-20 03:55:27,623 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 03:55:27,625 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 03:55:27,695 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:28,913 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 03:55:29,974 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 03:55:29,975 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 03:55:29] "POST /chat HTTP/1.1" 200 -
2025-07-20 03:55:30,172 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:00:57,126 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:00:57] "GET / HTTP/1.1" 200 -
2025-07-20 04:01:02,048 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:01:02,049 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:01:02,051 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\HDFHLIP23024V072223.pdf using PyPDFLoader
2025-07-20 04:01:13,310 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 39 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\HDFHLIP23024V072223.pdf.
2025-07-20 04:01:13,310 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 39 document parts.
2025-07-20 04:01:13,311 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 39 document parts...
2025-07-20 04:01:13,334 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 39, Total chunks: 161
2025-07-20 04:01:13,335 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:01:13,343 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:01:13] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:01:20,621 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide claims details'
2025-07-20 04:01:20,623 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:01:20,624 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:01:20,689 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:01:22,363 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:01:23,277 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:01:23,279 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:01:23] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:01:23,558 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:01:50,965 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'mentally disturbed'
2025-07-20 04:01:50,965 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:01:50,966 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:01:51,039 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:01:52,194 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:01:52,945 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:01:52,947 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:01:52] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:01:53,067 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:12:16,646 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:12:16] "GET / HTTP/1.1" 200 -
2025-07-20 04:13:04,849 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:13:04,850 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:13:04,850 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf using PyPDFLoader
2025-07-20 04:13:06,553 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 49 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf.
2025-07-20 04:13:06,553 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 49 document parts.
2025-07-20 04:13:06,554 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 49 document parts...
2025-07-20 04:13:06,558 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 49, Total chunks: 257
2025-07-20 04:13:06,559 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:13:06,560 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:13:06] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:13:23,094 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What is the definition of a Hospital in the Global Health Care policy?'
2025-07-20 04:13:23,095 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:13:23,102 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:13:23,212 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:13:24,446 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:13:25,487 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:13:25,487 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:13:25] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:13:25,611 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:13:51,886 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Are ICU charges covered?'
2025-07-20 04:13:51,887 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:13:51,887 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:13:51,899 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:13:52,867 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:13:53,762 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:13:53,763 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:13:53] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:13:53,764 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:14:08,769 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What is the grace period for renewing my policy?'
2025-07-20 04:14:08,769 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:14:08,770 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:14:08,784 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:14:09,896 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:14:10,764 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:14:10,764 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:14:10] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:14:10,765 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:19:54,239 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:19:54] "GET / HTTP/1.1" 200 -
2025-07-20 04:20:02,577 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:20:02] "GET / HTTP/1.1" 200 -
2025-07-20 04:20:41,474 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:20:41,475 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:20:41,475 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf using PyPDFLoader
2025-07-20 04:20:45,129 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 101 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf.
2025-07-20 04:20:45,130 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 101 document parts.
2025-07-20 04:20:45,130 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 101 document parts...
2025-07-20 04:20:45,138 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 101, Total chunks: 466
2025-07-20 04:20:45,138 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:20:45,139 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:20:45] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:21:03,185 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'My flight was delayed by 8 hours due to bad weather. Can I claim for meals and lodging under the travel policy?'
2025-07-20 04:21:03,186 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:21:03,187 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:21:03,204 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:21:04,584 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:21:05,587 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:21:05,587 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:21:05] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:21:05,754 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:24:38,285 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:24:38] "GET / HTTP/1.1" 200 -
2025-07-20 04:24:41,456 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:24:41,456 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:24:41,456 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf using PyPDFLoader
2025-07-20 04:24:45,375 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 101 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf.
2025-07-20 04:24:45,375 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 101 document parts.
2025-07-20 04:24:45,376 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 101 document parts...
2025-07-20 04:24:45,385 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 101, Total chunks: 466
2025-07-20 04:24:45,385 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:24:45,387 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:24:45] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:24:46,754 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'I am a 45-year-old male. My flight was delayed for 8 hours because of inclement weather, and I had to pay for a hotel and meals. According to the travel insurance policy, can I get reimbursed for these expenses?'
2025-07-20 04:24:46,755 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:24:46,755 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:24:46,780 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:24:48,010 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:24:48,967 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:24:48,967 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:24:48] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:24:49,062 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:26:23,179 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 04:26:24,403 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 04:26:27,446 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 04:26:27,447 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 04:26:30,103 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 04:26:30,104 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 04:26:35,910 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 04:26:35,956 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 04:26:37,090 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 04:26:40,216 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 04:26:40,536 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 04:36:39,136 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:36:39] "GET / HTTP/1.1" 200 -
2025-07-20 04:36:55,618 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'hey'
2025-07-20 04:36:55,618 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:36:55,618 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:36:55,634 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:36:57,146 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:36:58,258 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:36:58,258 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:36:58] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:36:58,395 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:48:59,353 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:48:59] "GET / HTTP/1.1" 200 -
2025-07-20 04:49:07,602 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:49:07,605 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:49:07,605 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf using PyPDFLoader
2025-07-20 04:49:33,481 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 101 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf.
2025-07-20 04:49:33,482 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 101 document parts.
2025-07-20 04:49:33,483 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 101 document parts...
2025-07-20 04:49:33,541 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 101, Total chunks: 466
2025-07-20 04:49:33,543 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:49:33,561 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:49:33] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:49:47,405 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 04:49:48,630 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 04:49:51,354 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 04:49:51,355 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 04:49:53,882 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 04:49:53,883 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 04:49:59,305 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 04:49:59,334 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 04:50:00,430 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 04:50:03,700 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 04:50:03,999 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 04:50:51,943 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 04:50:53,208 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 04:50:55,945 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 04:50:55,945 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 04:50:58,549 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 04:50:58,549 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 04:51:04,272 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 04:51:04,293 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 04:51:05,395 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 04:51:08,667 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 04:51:11,026 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 04:51:25,702 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'which type of polycies covered in this pdf i uploaded'
2025-07-20 04:51:25,703 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:51:25,706 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:51:25,780 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:51:26,774 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:51:27,863 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:51:27,864 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:51:27] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:51:27,989 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:51:38,350 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:51:38,351 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:51:38,352 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf using PyPDFLoader
2025-07-20 04:51:50,540 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 49 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf.
2025-07-20 04:51:50,542 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 49 document parts.
2025-07-20 04:51:50,542 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 49 document parts...
2025-07-20 04:51:50,569 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 49, Total chunks: 257
2025-07-20 04:51:50,570 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:51:50,576 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:51:50] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:51:54,409 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'which type of polycies covered in this pdf i uploaded   i upload it already'
2025-07-20 04:51:54,410 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:51:54,412 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:51:54,477 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:51:55,917 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:51:56,832 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:51:56,833 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:51:56] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:51:56,838 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:52:14,945 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i get insurance'
2025-07-20 04:52:14,945 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:52:14,947 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:52:15,029 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:52:15,978 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:52:16,830 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:52:16,832 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:52:16] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:52:16,905 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:53:05,970 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:53:05] "GET / HTTP/1.1" 200 -
2025-07-20 04:53:08,898 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:53:08,899 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:53:08,899 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 04:53:17,955 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 04:53:17,955 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 04:53:17,956 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 04:53:17,960 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 04:53:17,960 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:53:17,962 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:53:17] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:53:38,811 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'What is the definition of 'Hospital' according to the policy?'
2025-07-20 04:53:38,812 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:53:38,813 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:53:38,828 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:53:40,361 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:53:41,425 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:53:41,426 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:53:41] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:53:41,522 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:54:38,728 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Are AYUSH treatments covered?'
2025-07-20 04:54:38,729 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:54:38,731 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:54:38,804 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:54:40,225 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:54:41,312 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:54:41,313 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:54:41] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:54:41,317 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:57:44,371 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:57:44] "GET / HTTP/1.1" 200 -
2025-07-20 04:57:49,430 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:57:49,431 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:57:49,432 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 04:57:59,189 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 04:57:59,192 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 04:57:59,193 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 04:57:59,218 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 04:57:59,221 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:57:59,227 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:57:59] "POST /ingest HTTP/1.1" 200 -
2025-07-20 04:58:01,061 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicde polycy'
2025-07-20 04:58:01,062 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 04:58:01,064 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 04:58:01,151 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 04:58:02,465 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 04:58:03,460 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 04:58:03,461 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:58:03] "POST /chat HTTP/1.1" 200 -
2025-07-20 04:58:03,592 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 04:59:21,359 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:59:21] "GET / HTTP/1.1" 200 -
2025-07-20 04:59:22,114 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:59:22] "GET / HTTP/1.1" 200 -
2025-07-20 04:59:26,402 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 04:59:26,406 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 04:59:26,407 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 04:59:34,886 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 04:59:34,886 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 04:59:34,887 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 04:59:34,911 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 04:59:34,912 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 04:59:34,918 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 04:59:34] "POST /ingest HTTP/1.1" 200 -
2025-07-20 05:00:15,255 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'OPD treatment'
2025-07-20 05:00:15,256 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:00:15,258 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:00:15,335 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:16,521 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:17,471 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:00:17,471 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:00:17] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:00:17,565 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:00:39,880 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'are you llm'
2025-07-20 05:00:39,880 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:00:39,881 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:00:39,898 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:40,860 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:41,662 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:00:41,663 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:00:41] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:00:41,761 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:00:56,540 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can you provie pdf context'
2025-07-20 05:00:56,540 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:00:56,541 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:00:56,554 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:57,947 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:00:58,776 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:00:58,779 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:00:58] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:00:58,857 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:01:09,229 - INFO - __main__ - app.ingest_documents_route:59 - Received 5 files for ingestion.
2025-07-20 05:01:09,229 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 5 specific documents.
2025-07-20 05:01:09,230 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 05:01:10,497 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 05:01:10,498 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\HDFHLIP23024V072223.pdf using PyPDFLoader
2025-07-20 05:01:12,033 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 39 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\HDFHLIP23024V072223.pdf.
2025-07-20 05:01:12,033 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\EDLHLGA23009V012223.pdf using PyPDFLoader
2025-07-20 05:01:12,108 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 2 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\EDLHLGA23009V012223.pdf.
2025-07-20 05:01:12,109 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf using PyPDFLoader
2025-07-20 05:01:15,559 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 101 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\CHOTGDP23004V012223.pdf.
2025-07-20 05:01:15,559 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf using PyPDFLoader
2025-07-20 05:01:17,325 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 49 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf.
2025-07-20 05:01:17,326 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 222 document parts.
2025-07-20 05:01:17,326 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 222 document parts...
2025-07-20 05:01:17,346 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 222, Total chunks: 1076
2025-07-20 05:01:17,346 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 05:01:17,348 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:01:17] "POST /ingest HTTP/1.1" 200 -
2025-07-20 05:01:30,142 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide claims'
2025-07-20 05:01:30,143 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:01:30,144 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:01:30,160 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:01:31,242 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:01:32,223 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:01:32,224 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:01:32] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:01:32,313 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:01:48,392 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'check if any present'
2025-07-20 05:01:48,393 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:01:48,394 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:01:48,407 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:01:49,572 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:01:50,361 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:01:50,362 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:01:50] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:01:50,486 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:00,866 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'h'
2025-07-20 05:02:00,867 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:00,867 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:00,879 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:02,032 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:02,907 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:02,908 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:02] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:02,911 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:03,955 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'h'
2025-07-20 05:02:03,955 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:03,956 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:03,967 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:04,349 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:04,987 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:04,987 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:04] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:05,113 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:06,646 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'h'
2025-07-20 05:02:06,647 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:06,647 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:06,657 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:07,114 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:07,788 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:07,788 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:07] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:07,815 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:08,921 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'h'
2025-07-20 05:02:08,922 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:08,922 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:08,933 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:09,349 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:09,999 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:09,999 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:09] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:10,053 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:11,115 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'h'
2025-07-20 05:02:11,115 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:11,116 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:11,127 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:11,580 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:12,192 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:12,192 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:12] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:12,278 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:02:16,708 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:16] "GET / HTTP/1.1" 200 -
2025-07-20 05:02:31,657 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:31] "GET / HTTP/1.1" 200 -
2025-07-20 05:02:35,575 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 05:02:35,576 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 05:02:35,577 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 05:02:39,990 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'suicide claims'
2025-07-20 05:02:40,020 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:02:40,100 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:02:41,809 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:43,557 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:02:44,675 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 05:02:44,677 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 05:02:44,678 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 05:02:44,701 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 05:02:44,702 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 05:02:44,709 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:44] "POST /ingest HTTP/1.1" 200 -
2025-07-20 05:02:44,863 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:02:44,866 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:02:44] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:02:44,880 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 05:03:02,829 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'if any information present then give'
2025-07-20 05:03:02,830 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 05:03:02,831 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 05:03:02,930 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 05:03:04,026 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 05:03:04,878 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 05:03:04,880 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 05:03:04] "POST /chat HTTP/1.1" 200 -
2025-07-20 05:03:04,931 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:32:11,467 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 18:32:14,472 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 18:32:21,819 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 18:32:21,826 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 18:32:28,710 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 18:32:28,711 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 18:32:36,484 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 18:32:36,662 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 18:32:38,643 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 18:32:42,168 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 18:32:42,829 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 18:35:53,319 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 18:35:55,842 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 18:36:01,515 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 18:36:01,516 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 18:36:07,031 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 18:36:07,031 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 18:36:12,698 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 18:36:12,829 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 18:36:15,057 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 18:36:18,376 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 18:36:19,037 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 18:42:47,697 - INFO - root - logging_config.setup_logging:50 - Logging configured successfully.
2025-07-20 18:42:50,363 - INFO - src.vector_store - vector_store.__init__:38 - Initializing VectorStoreManager with new packages...
2025-07-20 18:42:55,762 - INFO - numexpr.utils - utils._init_num_threads:148 - Note: NumExpr detected 28 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-07-20 18:42:55,762 - INFO - numexpr.utils - utils._init_num_threads:160 - NumExpr defaulting to 8 threads.
2025-07-20 18:43:00,670 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:211 - Use pytorch device_name: cpu
2025-07-20 18:43:00,671 - INFO - sentence_transformers.SentenceTransformer - SentenceTransformer.__init__:219 - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-20 18:43:07,606 - INFO - langchain_astradb.vectorstores - vectorstores.__init__:858 - vector store default init, collection 'insurance_documents'
2025-07-20 18:43:07,805 - INFO - root - astradb._normalize_data_api_environment:185 - Detecting API environment 'prod' from supplied endpoint
2025-07-20 18:43:10,047 - INFO - astrapy.data.database - database.create_collection:786 - createCollection('insurance_documents')
2025-07-20 18:43:13,365 - INFO - astrapy.data.database - database.create_collection:798 - finished createCollection('insurance_documents')
2025-07-20 18:43:14,031 - INFO - src.vector_store - vector_store.__init__:54 - Astra DB vector store initialized successfully.
2025-07-20 18:43:15,014 - INFO - werkzeug - _internal._log:97 - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.115.3.208:8000
2025-07-20 18:43:15,014 - INFO - werkzeug - _internal._log:97 - [33mPress CTRL+C to quit[0m
2025-07-20 18:43:20,203 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:43:20] "GET / HTTP/1.1" 200 -
2025-07-20 18:43:26,265 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:43:26] "GET / HTTP/1.1" 200 -
2025-07-20 18:43:44,865 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 18:43:44,865 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 18:43:44,865 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf using PyPDFLoader
2025-07-20 18:43:48,066 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 49 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\BAJHLIP23020V012223.pdf.
2025-07-20 18:43:48,066 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 49 document parts.
2025-07-20 18:43:48,066 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 49 document parts...
2025-07-20 18:43:48,074 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 49, Total chunks: 257
2025-07-20 18:43:48,075 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 18:43:48,078 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:43:48] "POST /ingest HTTP/1.1" 200 -
2025-07-20 18:44:30,638 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Maternity expenses'
2025-07-20 18:44:30,639 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:44:30,641 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:44:30,676 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:44:32,153 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:44:33,572 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:44:33,573 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:44:33] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:44:33,577 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:45:26,444 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'ernity expenses means; a. medical treatment expenses traceable to childbirth (including complicated deliveries and caesarean sections incurred during Hospitalization); b. expenses towards lawful medical termination of pregnancy during the Policy Period.'
2025-07-20 18:45:26,445 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:45:26,446 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:45:26,507 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:45:28,038 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:45:28,987 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:45:28,988 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:45:28] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:45:28,992 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:45:59,626 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Please provide details about the specific maternity expenses you incurred.'
2025-07-20 18:45:59,626 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:45:59,627 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:45:59,803 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:46:01,035 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:46:02,078 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:46:02,078 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:46:02] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:46:02,254 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:46:21,171 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'what type of details'
2025-07-20 18:46:21,173 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:46:21,174 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:46:21,207 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:46:22,294 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:46:23,156 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:46:23,157 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:46:23] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:46:23,221 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:46:48,341 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 18:46:48,341 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 18:46:48,342 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\EDLHLGA23009V012223.pdf using PyPDFLoader
2025-07-20 18:46:48,452 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 2 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\EDLHLGA23009V012223.pdf.
2025-07-20 18:46:48,452 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 2 document parts.
2025-07-20 18:46:48,452 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 2 document parts...
2025-07-20 18:46:48,452 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 2, Total chunks: 9
2025-07-20 18:46:48,453 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 18:46:48,454 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:46:48] "POST /ingest HTTP/1.1" 200 -
2025-07-20 18:47:19,676 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'any accident claim is availble'
2025-07-20 18:47:19,677 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:47:19,679 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:47:19,718 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:47:20,989 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:47:22,063 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:47:22,063 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:47:22] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:47:22,081 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:52:29,061 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:52:29] "GET / HTTP/1.1" 200 -
2025-07-20 18:52:43,754 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'can i am aryan'
2025-07-20 18:52:43,755 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:52:43,756 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:52:43,884 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:52:45,450 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:52:46,442 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:52:46,443 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:52:46] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:52:46,581 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:52:58,487 - INFO - __main__ - app.ingest_documents_route:59 - Received 1 files for ingestion.
2025-07-20 18:52:58,491 - INFO - src.ingest - ingest.process_and_embed_documents:43 - Loading 1 specific documents.
2025-07-20 18:52:58,492 - INFO - utils.document_loader - document_loader.load_single_document:63 - Loading document: D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf using PyPDFLoader
2025-07-20 18:53:03,378 - INFO - utils.document_loader - document_loader.load_single_document:66 - Successfully loaded 31 parts from D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\data\documents\ICIHLIP22012V012223.pdf.
2025-07-20 18:53:03,379 - INFO - src.ingest - ingest.process_and_embed_documents:53 - Successfully loaded 31 document parts.
2025-07-20 18:53:03,379 - INFO - utils.chunking - chunking.chunk_documents:33 - Starting to chunk 31 document parts...
2025-07-20 18:53:03,392 - INFO - utils.chunking - chunking.chunk_documents:47 - Chunking complete. Original parts: 31, Total chunks: 183
2025-07-20 18:53:03,392 - ERROR - src.ingest - ingest.process_and_embed_documents:72 - An error occurred during the ingestion pipeline: name 'Path' is not defined
Traceback (most recent call last):
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\src\ingest.py", line 56, in process_and_embed_documents
    chunked_docs = chunk_documents(documents)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\B-Tech CSE IIIT\B-Tech CSE IIIT\MACHINE_LEARNING_PROJECT\Hackathon -PROJECT------------\Bajaj_Insurance Claim Advisor\utils\chunking.py", line 51, in chunk_documents
    source_file = Path(chunk.metadata.get("source", "unknown_source")).name
                  ^^^^
NameError: name 'Path' is not defined
2025-07-20 18:53:03,395 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:53:03] "POST /ingest HTTP/1.1" 200 -
2025-07-20 18:53:15,150 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'any claims present'
2025-07-20 18:53:15,151 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:53:15,153 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:53:15,226 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:53:16,653 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:53:17,519 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:53:17,522 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:53:17] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:53:17,624 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:54:00,495 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'ENT'
2025-07-20 18:54:00,496 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:54:00,497 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:54:00,580 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:54:01,808 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:54:02,757 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:54:02,758 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:54:02] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:54:02,862 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:54:57,758 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Deviated Nasal Septum'
2025-07-20 18:54:57,759 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:54:57,761 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:54:58,004 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:54:59,358 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:55:00,208 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:55:00,209 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:55:00] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:55:00,317 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:55:30,494 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'Septoplasty'
2025-07-20 18:55:30,496 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:55:30,497 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:55:30,693 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:55:32,022 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:55:33,048 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:55:33,049 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:55:33] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:55:33,082 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:56:23,800 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: '30 july  surgery date'
2025-07-20 18:56:23,801 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:56:23,802 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:56:23,830 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:56:25,190 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:56:25,966 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:56:25,967 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:56:25] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:56:26,096 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:56:41,055 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'rims hospital imphal'
2025-07-20 18:56:41,056 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:56:41,058 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:56:41,100 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:56:42,161 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:56:43,065 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:56:43,066 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:56:43] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:56:43,197 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:57:13,571 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'aiims medical college delhi'
2025-07-20 18:57:13,572 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:57:13,573 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:57:13,614 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:57:14,949 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:57:15,856 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:57:15,858 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:57:15] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:57:15,861 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:57:38,839 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i said aiims delhi for treatment'
2025-07-20 18:57:38,839 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:57:38,841 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:57:38,884 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:57:39,892 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:57:40,631 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:57:40,631 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:57:40] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:57:40,751 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:58:13,181 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i have bajaj insurance policy for heath'
2025-07-20 18:58:13,181 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:58:13,182 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:58:13,229 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:14,457 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:15,660 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:58:15,662 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:58:15] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:58:15,665 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:58:25,137 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: '127938394'
2025-07-20 18:58:25,138 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:58:25,140 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:58:25,187 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:26,409 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:27,539 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:58:27,540 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:58:27] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:58:27,544 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
2025-07-20 18:58:43,620 - INFO - __main__ - app.chat_route:84 - Received chat query for SSE stream: 'i do not have policy number'
2025-07-20 18:58:43,620 - INFO - __main__ - app.generate_stream:88 - Stream generation started.
2025-07-20 18:58:43,622 - INFO - src.vector_store - vector_store.get_retriever:101 - Creating retriever with search_type='similarity' and search_kwargs={'k': 5}
2025-07-20 18:58:43,669 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:142 - cursor fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:44,944 - INFO - astrapy.data.cursors.cursor - query_engine._fetch_page:147 - cursor finished fetching a page: (empty page state) from insurance_documents
2025-07-20 18:58:46,563 - INFO - __main__ - app.generate_stream:92 - Received chunk 0 from LLM.
2025-07-20 18:58:46,564 - INFO - werkzeug - _internal._log:97 - 127.0.0.1 - - [20/Jul/2025 18:58:46] "POST /chat HTTP/1.1" 200 -
2025-07-20 18:58:46,568 - INFO - __main__ - app.generate_stream:96 - Stream generation finished successfully.
